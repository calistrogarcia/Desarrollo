<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"      
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>   
        <h:outputScript library="js" name="scrits.js"></h:outputScript>


    </h:head>
    <h:body>
        <ui:composition template="/WEB-INF/faces/templates/TemplatePagina.xhtml">
            <ui:define name="contenido"><!---Agregando Etiqueta de Titulo-->

                <p:tabView id="CertificadoTabView" dynamic="true" orientation="top" activeIndex="#{Beans_DefensaCivil_Certificado.activeTabIndex}" style="text-align: left" >  


                    <p:tab id="tab_Buscar_CertificadoOfi" title="Expediente Ipse" titletip="Buscar Certificado" titleStyleClass="tamaño_fuente_tab">
                        <!-- Formulario que permite la Busqueda  -->    
                        <h:form  id="form_busc_CertificadoOfi" class="border_titulo1"  styleClass="tamaño_fuente">    
                            <p:growl globalOnly="true"  id="estRegCertificado" sticky="false"  showDetail="true"  />    
                            <p:panel id="datBusCertificadoOfi" header="#{msg.LabelCertificado}"    >
                                <!--Lista de Opciones de Ofina *25*04*17 **J**-->  

                                <h:panelGrid columns="1"   >

                                    <div id="day" style="tamaño_fuente" >
                                        Usuario
                                        <p:clock  pattern="dd MMMM yy HH:mm:ss" mode="client"  />                        

                                    </div>


                                </h:panelGrid> 

                                <center>

                                    <h:panelGrid columns="2"  >
                                        <h:outputText value="#{msg.labelNroE}"  styleClass="tamaño_fuente" />
                                        <h:panelGroup>
                                            <h:outputText value=" a Consultar " style=" font: small serif"/>
                                            <p:inputText  id="nro_expediente" value="#{Beans_DefensaCivil_Certificado.objBuscarCertificado.nro_expediente}"
                                                          >
                                                <!-- required="true" requiredMessage="{msg.labelObli}"
                                                 maxlength="30" validatorMessage="{msg.labelValidar}" 
                                                 value="{Beans_DefensaCivil_Certificado.objBuscarCertificado.nro_expediente}">  -->
                                                <!--  <f:validateLength minimum="0" maximum="30"/>-->
                                            </p:inputText>
                                            <h:message for="nro_expediente" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>

                                    </h:panelGrid>               
                                    <!--BLOC-->
                                </center>

                                <h:panelGrid columns="4"  cellpadding="3"  cellspacing="3" style="text-align: center;" width="17%"  >

                                    <p:commandButton id="saveBtnINI" icon="ui-icon-document" actionListener="#{Beans_DefensaCivil_Certificado.doiniciarBusquedaCertificado()}"  
                                                     value="#{msg.labelNuevo}"  async="true" update="datBusCertificadoOfi"  />

                                    <p:commandButton id="saveBtn" icon="ui-icon-folder-open" actionListener="#{Beans_DefensaCivil_Certificado.doBuscarCertificado()}"  
                                                     value="#{msg.btnConsultar}"  async="true" update="datBusCertificadoOfi" />  

                                    <p:commandButton id="Actualizar" icon="ui-icon-gear" actionListener="#{Beans_DefensaCivil_Certificado.ActuaizarDatos(actualizardatos)}"  
                                                     value="#{msg.BtnActualizarDatos}"  async="true" update="datBusCertificadoOfi"/> 



                                </h:panelGrid>

                                <h:panelGrid columns="3" cellpadding="2"  cellspacing="2"  width="10%">

                                    <h:panelGrid columns="2">
                                        <img src="resources/imagenes/printer.png"/>
                                        <h:commandLink id="reporte"  value="Imprimir" actionListener="#{BeanExpediente_Reporte.verReporteDefensaCivilCertificado()}" title="Certificados"/>
                                    </h:panelGrid> 

                                    <h:commandLink >
                                        <p:graphicImage url="resources/imagenes/xls.png"/>
                                        <p:dataExporter type="xls" target="resListadoCertificado" fileName="Informacion Certificado" />           
                                    </h:commandLink>

                                </h:panelGrid> 

                                <p:blockUI block="datBusCertificadoOfi" trigger="saveBtn">   Buscando... <br />
                                    <p:graphicImage value="resources/imagenes/cargando1.gif" />   
                                </p:blockUI>


                                <center>
                                    <h:panelGrid columns="2" >
                                        <h:outputText styleClass="etiqueta_resultBusq" value="#{msg.labelCantidad}"/>
                                        <h:outputText styleClass="etiqueta_resultBusq" value="#{Beans_DefensaCivil_Certificado.arrBusCertificado.size()}"/>               
                                    </h:panelGrid> 

                                    <h:panelGrid columns="1"   cellpadding="0"  cellspacing="0" 
                                                 border="0"  styleClass="width-table"> 

                                        <p:dataTable id="resListadoCertificado" value="#{Beans_DefensaCivil_Certificado.arrBusCertificado}"  
                                                     var="listCertificado"  styleClass="order-table" paginator="true" lazy="true"
                                                     rows="5"  rowsPerPageTemplate="5,10,15,20,25,30,50" 
                                                     paginatorPosition="both" paginatorAlwaysVisible="true"
                                                     style="tamaño_fuente"
                                                     rowStyleClass="#{listCertificado.estado_expediente eq 'TRAMITE'  ? 'cabeceraTabla'   : null} #{listCertificado.estado_expediente eq 'RESUELTO'  ? 'cabeceraTabla_1'   : null}"

                                                     >


                                            <p:column style="width:4%;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelExpedienteId}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.objUpload.expediente_id}"/>
                                            </p:column>  


                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelDni}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.numero_identificacion}"/>
                                            </p:column>  

                                            <p:column style="width:3%;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelRecurrente}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.contribuyente}"/>
                                            </p:column>   

                                            <p:column style="width:10%;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelNombres}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.nombres}" />
                                            </p:column>  



                                            <p:column filterBy="#{listCertificado.nro_expediente}" filterMatchMode="contains" style="width:7%;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelNroE}" />
                                                </f:facet>
                                                <h:outputText value="#{listCertificado.nro_expediente}"/>
                                            </p:column> 

                                            <p:column style="width:20%;text-align: left">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelAsunto}" style="text-align: center"/>
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.asunto}"/>
                                            </p:column>  

                                            <p:column style="width:3%;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelAreaDeclarada}" style="text-align: center"/>
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.area_declarada}"/>
                                            </p:column>  


                                            <p:column  >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelAreaFinal}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.area}"/>
                                            </p:column>  

                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelRazonSocial}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.razon_social}"/>

                                            </p:column>    

                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelRepresentanteLegal}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.representante_legal}"/>

                                            </p:column>  

                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelDireccion}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.direccion}"/>

                                            </p:column>  


                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelNombreInspector}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.nombre_inspector}"/>

                                            </p:column>  

                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelaforo}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.aforo}"/>

                                            </p:column> 

                                            <p:column  rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelGiro}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.objgiros.codigo_giro}"/>

                                            </p:column> 

                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelTipoLicencia}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.id_tipo_licencia}"/>

                                            </p:column>  


                                            <p:column  >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelTipoLicencia}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.descripcion_tipo_licencia}"/>

                                            </p:column>  


                                            <p:column  rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelNumeroIdentidad}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.numero_identificacion}"/>

                                            </p:column>      


                                            <p:column  rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelEstadoFiscalizacion}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.estado_fiscalizacion}"/>

                                            </p:column> 

                                            <p:column  rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelObservaciones}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.observaciones_seguridad}"/>

                                            </p:column>  


                                            <p:column  rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelResultado}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.resultado}"/>

                                            </p:column>  


                                            <p:column  rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelAnotaciones}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.anotaciones}"/>

                                            </p:column>  

                                            <p:column  >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelEstado}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.estado_expediente}"/>

                                            </p:column>

                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelDireccion}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.direccion_verificada}"/>

                                            </p:column>


                                            <p:column rendered="false" >
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelAreaVerificada}" />
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.area_verificada}"/>

                                            </p:column>
                                            
                                            
                                            <p:column >
                                                <f:facet name="header">
                                                
                                                </f:facet>
                                                <h:outputText  value="#{listCertificado.objboton.estado_boton}">
                                                 
                                                  
                                               
                                                </h:outputText>

                                            </p:column>




                                            <p:column exportable="false" >

                                                <f:facet name="header">
                                                    <center><h:outputText value="Editar"/></center>
                                                </f:facet>

                                                <img  src="resources/imagenes/editar.png" style="text-align: center"/>

                                                <p:commandLink  id="editar" title="editar" actionListener="#{Beans_DefensaCivil_Certificado.onClickBusq}" 
                                                                value="Editar" action="#{Beans_DefensaCivil_Certificado.modificarCertificado(listCertificado)}"  
                                                                async="true" update=":CertificadoTabView, :CertificadoTabView"> 
                                                    <f:attribute name="param" value="#{2}" /> 
                                                </p:commandLink>                                                

                                            </p:column>


                                            <p:column exportable="false" >

                                                <f:facet name="header">
                                                    <center><h:outputText value="Digitalizacion"/></center>
                                                </f:facet>

                                                <img  src="resources/imagenes/adjuntar.png" style="text-align: center"/>

                                                <p:commandLink  id="Digitalizacion" title="Digital" actionListener="#{Beans_DefensaCivil_Certificado.onClickBusq}"  
                                                                value="Digital" action="#{Beans_DefensaCivil_Certificado.RegistrarArchivoVirtual(listCertificado)}"  
                                                                async="true" update=":CertificadoTabView, :CertificadoTabView"> 
                                                    <f:attribute name="param" value="#{2}" /> 
                                                </p:commandLink>                                                

                                            </p:column>

                                        </p:dataTable>    
                                    </h:panelGrid>  
                                </center>
                            </p:panel>  

                            <p:resizable for="datBusCertificadoOfi" animate="true" effect="swing" effectDuration="normal"/>

                        </h:form>


                    </p:tab> 


                    <p:tab id="tab_Editar_Certificado" title="Editar Ipse" titletip="Modificar Certificado"  titleStyleClass="tamaño_fuente_tab" disabled="#{Beans_DefensaCivil_Certificado.bandMod}">

                        <h:form  id="form_mod_Certificado" class="border_titulo1" style="text-align: left" styleClass="tamaño_fuente">
                            <p:growl globalOnly="true"  id="estModCertificado" sticky="false"  showDetail="true"  />                                
                            <p:panel id="datGenCertificado" header="#{msg.labelDatosCertificado}" styleClass="tamaño_fuente">  <!--border-->


                                <center>

                                    <center>
                                        <img  src="resources/imagenes/editar.png" style="text-align: center" height="20px"/>
                                        <h:outputText value="#{msg.LabelInformacionDeclarada}"  style=" color: blue"  />
                                    </center>

                                    <h3 style="margin-top:0;" ></h3>
                                    <p:separator /> 

                                    <br>
                                    </br>

                                    <h:panelGrid columns="4" cellpadding="2"  >

                                        <h:outputText value="#{msg.labelExpediente}"  style="margin-right:20px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="Exp_1"  required="true" requiredMessage="#{msg.labelObli}" size="15" disabled="true"  style=" color:  #FF0000" 
                                                         maxlength="30" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.nro_expediente}"                       >  
                                                <f:validateLength minimum="0" maximum="30"/>
                                            </p:inputText>
                                            <h:message for="Exp_1" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>


                                        <h:outputText value="#{msg.labelAreaFinal}"  style="margin-right:20px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="Area"  required="true" requiredMessage="#{msg.labelObli}" size="30" disabled="true" style=" color:  #FF0000"
                                                         maxlength="17" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.area}"  >  
                                                <f:validateLength minimum="0" maximum="17"/>
                                            </p:inputText>
                                            <h:message for="Area" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>


                                        <h:outputText value="#{msg.LabelCodigoContribuyente}"  style="margin-right:0px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="contr"  required="true" requiredMessage="#{msg.labelObli}" size="15" disabled="true" style=" color:  #FF0000"
                                                         maxlength="30" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.contribuyente}"                >  
                                                <f:validateLength minimum="0" maximum="30"/>
                                            </p:inputText>
                                            <h:message for="contr" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>


                                        <h:outputText value="#{msg.LabelNombres}"  style="margin-right:40px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="Exp"  required="true" requiredMessage="#{msg.labelObli}" size="40" disabled="true" style=" color:  #FF0000"
                                                         maxlength="30" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.nombres}"
                                                         >  
                                                <f:validateLength minimum="0" maximum="250"/>
                                            </p:inputText>
                                            <h:message for="Exp" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>



                                        <h:outputText value="#{msg.labelRazonSocial}"  style="margin-right:0px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="RazonSocial"  required="true" requiredMessage="#{msg.labelObli}" size="40" style=" align-content: center"
                                                         maxlength="100" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.nombres}"
                                                         >  
                                                <f:validateLength minimum="0" maximum="100"/>
                                            </p:inputText>
                                            <h:message for="RazonSocial" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>


                                        <h:outputText value="#{msg.labelRepresentanteLegal}"  style="margin-right:60px;"/>

                                        <h:panelGroup>
                                            <p:inputText id="Representante_Legal" 

                                                         requiredMessage="#{msg.labelObli}" size="40"
                                                         maxlength="30" 

                                                         value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.representante_legal}"
                                                         >  
                                                <f:validateLength minimum="0" maximum="30"/>
                                            </p:inputText>
                                            <h:message for="Representante_Legal" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>


                                        <h:outputText value="#{msg.LabelDireccion}"  style="margin-right:30px;"/>

                                        <h:panelGroup>

                                            <p:inputTextarea rows="3" cols="40" counter="direc" maxlength="500"   disabled="true" style=" color:  #FF0000"

                                                             required="true" requiredMessage="#{msg.labelObli}" autoResize="true" id="direcciones"
                                                             counterTemplate="{0} #{msg.LabelContador}" value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.direccion}">
                                            </p:inputTextarea> 
                                            <br />

                                            <h:outputText id="direc"/>    
                                            <h:message for="direccion" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>



                                        <h:outputText value="#{msg.LabelAsunto}"  style="margin-right:150px;"/>
                                        <h:panelGroup>

                                            <p:inputTextarea rows="3" cols="40" counter="asun" maxlength="500"  

                                                             required="true" requiredMessage="#{msg.labelObli}" autoResize="true" id="asunto"
                                                             counterTemplate="{0} #{msg.LabelContador}" value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.asunto}">
                                            </p:inputTextarea> 
                                            <br />

                                            <h:outputText id="asun"/>    
                                            <h:message for="asunto" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>

                                    </h:panelGrid>

                                    <!--  
                                    
                                       <h:panelGrid columns="4" cellpadding="5"  >     
                                       
                                          <h:outputText value="{msg.Observaciones}"  /> 
                                                
                                           <h:panelGroup>
                     
                                                        <p:selectCheckboxMenu id="menu" value="{Beans_DefensaCivil_Certificado.objCertificadoMod.regobservaciones_seguridad}" label="Datos"
                                                               filter="true" filterMatchMode="startsWith" panelStyle="width:550px">
                                                            <f:selectItems value="{Certificado.cargarObservacionesIpse}" />
                                                         <p:ajax event="change" update="selectedItemText"/> 
                                                        </p:selectCheckboxMenu>
                                                        <h:inputText id="selectedItemText" 
                                                                       value="{Beans_DefensaCivil_Certificado.objCertificadoMod.regobservaciones_seguridad}" size="43"/> 
                                                         <h:message for="menu" showDetail="false" showSummary="true"/>  
                     
                                           </h:panelGroup> -->


                                    <h:panelGrid columns="4" cellpadding="5"  >     

                                        <h:outputText value="#{msg.Observaciones}" style="margin-right:50px;" /> 


                                        <h:panelGroup>
                                            <p:inputTextarea rows="3" cols="40" counter="obser" maxlength="500"                      

                                                             autoResize="true" id="observaciones"
                                                             counterTemplate="{0} {msg.LabelContador}" 
                                                             value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.observaciones_seguridad}">


                                            </p:inputTextarea> 

                                            <br />

                                            <h:outputText id="obser"/>    
                                            <h:message for="observaciones" showDetail="false" showSummary="true"/>                                  
                                        </h:panelGroup> 





                                        <h:outputText value="#{msg.labelAreaDeclarada}"  style="margin-right:0px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="areadeclarada"  required="true" requiredMessage="#{msg.labelObli}" size="3"
                                                         maxlength="30" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.area_declarada}"
                                                         >  
                                                <f:validateLength minimum="0" maximum="30"/>

                                            </p:inputText>



                                            <h:message for="areadeclarada" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup> 







                                        <h:outputText value="#{msg.LabelNombreInspector}"  style="margin-right:0px;"/>


                                        <h:panelGroup>


                                            <p:selectOneMenu effect="fade" filter="true"  filterMatchMode="contains" required="true" id="id_inspector"   
                                                             validatorMessage="#{msg.labelValidar}"  requiredMessage="#{msg.labelObli}" 
                                                             value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.nombre_inspector}">
                                              
                                              <f:selectItem itemLabel="#{msg.labelSeleccionar}"   class="tamaño_fuente" itemValue="O"/> 
                                              <f:selectItems value="#{Certificado.cargarInpectores}"  />
                                              
                                              
                                            </p:selectOneMenu>
                                            <h:message for="id_inspector" showDetail="false" showSummary="true"/>     

                                        </h:panelGroup>




                                        <h:outputText value="#{msg.labelaforo}"   style="margin-right:0px;"/>
                                        <h:panelGroup>
                                            <p:inputText id="aforo"  required="true" requiredMessage="#{msg.labelObli}" size="3"
                                                         maxlength="30" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.aforo}"
                                                         >  
                                                <f:validateLength minimum="0" maximum="30"/>
                                            </p:inputText>
                                            <h:message for="aforo" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>  

                                    </h:panelGrid>

                                    <h:panelGrid columns="2" cellpadding="1"  >

                                        <h:outputText value="#{msg.LabelGiro}"  style="margin-right:230px;"/> 
                                        <h:panelGroup>

                                            <p:selectOneMenu effect="fade" filter="true"  filterMatchMode="contains" required="true" id="GiroDeclarado"   
                                                             validatorMessage="#{msg.labelValidar}"  requiredMessage="#{msg.labelObli}" 
                                                             value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.objgiros.codigo_giro}">
                                                <f:selectItem itemLabel="#{msg.labelSeleccionar}" 
                                                              itemValue="O"/> 
                                                <f:selectItems value="#{Certificado.cargarComboGiros}" />
                                            </p:selectOneMenu>
                                            <h:message for="GiroDeclarado" showDetail="false" showSummary="true"/>     

                                        </h:panelGroup>
                                    </h:panelGrid>   


                                    <h:panelGrid columns="4" cellpadding="1"  >

                                        <h:outputText value="#{msg.LabelAnotaciones}" style="margin-right:170px;"  />  
                                        <h:panelGroup>

                                            <p:inputTextarea rows="3" cols="75" counter="asun" maxlength="500"  

                                                             required="true" requiredMessage="#{msg.labelObli}" autoResize="true" id="anotaciones_mod"
                                                             counterTemplate="{0} #{msg.LabelContador}" value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.anotaciones}">
                                            </p:inputTextarea> 
                                            <br />

                                            <h:outputText id="mod_anotaciones"/>    
                                            <h:message for="anotaciones_mod" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>




                                        <h:outputText value="#{msg.LabelTipoIpse}"   style="margin-right:10px;"/>

                                        <h:panelGroup>


                                            <p:selectOneMenu effect="fade"
                                                             filter="true"  filterMatchMode="contains"
                                                             required="true" id="ipse"
                                                             validatorMessage="#{msg.labelValidar}"
                                                             requiredMessage="#{msg.labelObli}" value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.id_tipo_licencia}">

                                                <f:selectItem itemLabel="#{msg.labelSeleccionar}" itemValue="O"/> 

                                                <f:selectItem itemLabel="BASICA EX POST" itemValue="1" />
                                                <f:selectItem itemLabel="BASICA EX ANTE" itemValue="2" />
                                                <f:selectItem itemLabel="DE DETALLE" itemValue="3" />

                                            </p:selectOneMenu>
                                            <h:message for="ipse" showDetail="false" showSummary="true"/>     

                                        </h:panelGroup>

                                    </h:panelGrid>



                                    <center>
                                        <img  src="resources/imagenes/verificado.png" style="text-align: center" height="20px"/>
                                        <h:outputText value="#{msg.LabelInformacionVerificada}"   style=" color: #FF0000"/>
                                    </center>

                                    <h3 style="margin-top:0"></h3>
                                    <p:separator />

                                    <br>
                                    </br>


                                    <h:panelGrid columns="6" cellpadding="1" cellspacing="1" >


                                        <h:outputText value="#{msg.LabelDireccionVerificada}"  style="margin-right:0px;"/>

                                        <h:panelGroup>

                                            <p:inputTextarea rows="3" cols="40" counter="direcverificada" maxlength="500"   disabled="false" style=" color:  #FF0000"

                                                             required="true" requiredMessage="#{msg.labelObli}" autoResize="true" id="DireccionVerificada"
                                                             counterTemplate="{0} #{msg.LabelContador}" 
                                                             value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.direccion_verificada}">
                                            </p:inputTextarea> 
                                            <br />

                                            <h:outputText id="direcverificada"/>    
                                            <h:message for="DireccionVerificada" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>





                                        <h:form id="form_reg_direcciones" class="border_tittulo" style="max-width: 40%; min-height: 30%" styleClass="tamaño_fuente"> 

                                            <p:growl globalOnly="true" id="growl_direcciones"   sticky="false"    showDetail="true"/>  <!--Habilitando Mensajes Por defecto-->     

                                            <p:commandButton value="Direccion" onclick="PF('dlg').show();" type="button" icon="ui-icon-extlink" /> 

                                            <p:dialog header="Direccion" widgetVar="dlg"  resizable="true" 
                                                      style="max-width: 40%; min-height: 30%" minimizable="true" maximizable="true" visible="false">
                                                <p:panel id="panel_direcciones"   >


                                                    <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                                                        <p:outputLabel for="id_distrito" value="#{msg.LabelDistrito}" />
                                                        <p:selectOneRadio id="id_distrito" value="#{Beans_DefensaCivil_Certificado.objBuscarDirecciones.objdireccion.codigo_postal}"  layout="grid" columns="1">

                                                            <f:selectItem itemLabel="SAN MARTIN" itemValue="L31" />


                                                        </p:selectOneRadio>
                                                    </h:panelGrid>



                                                    <h:panelGrid columns="4"  cellpadding="3"  cellspacing="3" style="text-align: center;" width="17%">

                                                        <p:commandButton id="saveBtnINI" icon="ui-icon-document" actionListener="#{Beans_DefensaCivil_Certificado.doiniciarBusquedaDirecciones()}"  
                                                                         value="#{msg.labelNuevo}" async="true" update="panel_direcciones"/>

                                                        <p:commandButton id="saveBtn" icon="ui-icon-folder-open" actionListener="#{Beans_DefensaCivil_Certificado.doBuscarDirecciones()}"  
                                                                         value="#{msg.btnConsultar}" async="true" update="panel_direcciones" />  

                                                    </h:panelGrid>



                                                    <p:blockUI block="panel_direcciones" trigger="saveBtn">   Buscando... <br />
                                                        <p:graphicImage value="resources/imagenes/cargando1.gif" />   
                                                    </p:blockUI>


                                                    <center>
                                                        <h:panelGrid columns="2" >
                                                            <h:outputText styleClass="etiqueta_resultBusqdireciones" value="#{msg.labelCantidad}"/>
                                                            <h:outputText styleClass="etiqueta_resultBusqdireccione" value="#{Beans_DefensaCivil_Certificado.arrBusDirecciones.size()}"/>               
                                                        </h:panelGrid> 

                                                        <h:panelGrid columns="1"   cellpadding="0"  cellspacing="0" 
                                                                     border="0"  styleClass="width-table"> 

                                                            <p:dataTable id="table_direcciones" var="var_listadodirecciones"  value="#{Beans_DefensaCivil_Certificado.arrBusDirecciones}" 
                                                                         styleClass="tamaño_fuente" paginator="true" 
                                                                         rows="5"  rowsPerPageTemplate="5,10,15,20,25,30,50" 
                                                                         paginatorPosition="both" paginatorAlwaysVisible="true" scrollable="true" scrollHeight="170" scrollWidth="650" editable="true"
                                                                         >



                                                                <p:column style="width:32px">
                                                                    <p:rowEditor />

                                                                </p:column>

                                                                <p:column  style="width:60px;text-align: center">

                                                                    <f:facet name="header">
                                                                        <h:outputText value="#{msg.LabelCodigoHabilitaciones}" />
                                                                    </f:facet>

                                                                    <p:cellEditor>

                                                                        <f:facet name="output">
                                                                            <h:outputText  value="#{var_listadodirecciones.objdireccion.codigo_via}" />
                                                                        </f:facet> 

                                                                        <f:facet name="input">
                                                                            <h:inputText  value="#{var_listadodirecciones.objdireccion.codigo_via}" />
                                                                        </f:facet> 

                                                                    </p:cellEditor>


                                                                </p:column>  

                                                                <p:column filterBy="#{var_listadodirecciones.objdireccion.tipo_via}"  style="width:100px;text-align: center">
                                                                    <f:facet name="header">

                                                                        <h:outputText value="#{msg.LabelTipoVia}" />
                                                                    </f:facet>

                                                                    <p:cellEditor>

                                                                        <f:facet name="output">
                                                                            <h:outputText  value="#{var_listadodirecciones.objdireccion.tipo_via}" />
                                                                        </f:facet> 

                                                                        <f:facet name="input">
                                                                            <h:inputText  value="#{var_listadodirecciones.objdireccion.tipo_via}" />
                                                                        </f:facet> 

                                                                    </p:cellEditor>


                                                                </p:column>  

                                                                <p:column  filterBy="#{var_listadodirecciones.objdireccion.nombre_via}" style="width:130px;text-align: center">
                                                                    <f:facet name="header">
                                                                        <h:outputText value="#{msg.LabelNombreVia}" />
                                                                    </f:facet>

                                                                    <p:cellEditor>

                                                                        <f:facet name="output">
                                                                            <h:outputText  value="#{var_listadodirecciones.objdireccion.nombre_via}"  />
                                                                        </f:facet> 

                                                                        <f:facet name="input">
                                                                            <h:inputText  value="#{var_listadodirecciones.objdireccion.nombre_via}"  />
                                                                        </f:facet> 

                                                                    </p:cellEditor>

                                                                </p:column>  


                                                                <p:column  filterBy="#{var_listadodirecciones.objdireccion.habilitacion}" style="width:130px;text-align: center">
                                                                    <f:facet name="header">
                                                                        <h:outputText value="#{msg.LabelHabilitaciones}" />
                                                                    </f:facet>

                                                                    <p:cellEditor>

                                                                        <f:facet name="output">
                                                                            <h:outputText  value="#{var_listadodirecciones.objdireccion.habilitacion}"  />
                                                                        </f:facet> 

                                                                        <f:facet name="input">
                                                                            <h:inputText  value="#{var_listadodirecciones.objdireccion.habilitacion}"  />
                                                                        </f:facet> 

                                                                    </p:cellEditor>

                                                                </p:column>  


                                                                <p:column  filterBy="#{var_listadodirecciones.objdireccion.tipo_habilitacion}" style="width:130px;text-align: center">
                                                                    <f:facet name="header">
                                                                        <h:outputText value="#{msg.LabelTipoHabilitaciones}" style="text-align: center"/>
                                                                    </f:facet>

                                                                    <p:cellEditor>

                                                                        <f:facet name="output">
                                                                            <h:outputText  value="#{var_listadodirecciones.objdireccion.tipo_habilitacion}"  />
                                                                        </f:facet> 

                                                                        <f:facet name="input">
                                                                            <h:inputText  value="#{var_listadodirecciones.objdireccion.tipo_habilitacion}"  />
                                                                        </f:facet> 

                                                                    </p:cellEditor>

                                                                </p:column >

                                                                <p:ajax event="rowEdit" listener="#{Beans_DefensaCivil_Certificado.doRegDirecciones(var_listadodirecciones)}"/>

                                                                <p:column style="width:130px;text-align: center" >

                                                                    <p:commandButton value="Direccion" type="button" >



                                                                    </p:commandButton>

                                                                </p:column> 
                                                            </p:dataTable>  
                                                        </h:panelGrid>  
                                                    </center>

                                                </p:panel>
                                            </p:dialog>   

                                        </h:form>       


                                        <br>
                                        </br>


                                        <h:outputText value="#{msg.LabelAreaVerificada}"  style="margin-right:20px;"/>

                                        <h:panelGroup>
                                            <p:inputText id="AreaVerificada"  required="true" requiredMessage="#{msg.labelObli}" size="3"
                                                         maxlength="30" validatorMessage="#{msg.labelValidar}"  value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.area_verificada}"
                                                         >  
                                                <f:validateLength minimum="0" maximum="30"/>
                                            </p:inputText>

                                            <h:message for="AreaVerificada" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>



                                        <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                                            <p:outputLabel for="ITPSE" value="CUMPLE ITPSE:" />
                                            <p:selectOneRadio id="ITPSE" value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.estado_fiscalizacion}"  layout="grid" columns="1">

                                                <f:selectItem itemLabel="NO" itemValue="0" />
                                                <f:selectItem itemLabel="SI" itemValue="1" />

                                            </p:selectOneRadio>
                                        </h:panelGrid>


                                        <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                                            <p:outputLabel for="RESUL" value="CUMPLE ITPSE:" />
                                            <p:selectOneRadio id="RESUL" value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.resultado}"  layout="grid" columns="1">

                                                <f:selectItem itemLabel="IMPROCEDENTE" itemValue="0" />
                                                <f:selectItem itemLabel="APROBADO" itemValue="1" />
                                                <f:selectItem itemLabel="EN PREOCESO" itemValue="2" />
                                            </p:selectOneRadio>
                                        </h:panelGrid>   



                                    </h:panelGrid>
                                    
                                    
                                    
                                    
                                        <h:panelGroup>
                                            <p:inputText id="boton"   size="15"
                                                          value="#{Beans_DefensaCivil_Certificado.objCertificadoMod.objboton.estado_boton}"   >  
                                            
                                                <p:ajax event="keyup" update="btneditar" />
                                                
                                            </p:inputText>
                                                                              
                                        </h:panelGroup>


                                    <h:panelGrid columns="4"  cellpadding="3"  cellspacing="6"   styleClass="panelColumns" columnClasses="labelOT2, valueOT2"  >
                                        <p:commandButton icon="ui-icon-triangle-1-w"  id="cancelar_editar"
                                                         actionListener="#{Beans_DefensaCivil_Certificado.desactivaTabModificarIpse()}"  immediate="true"  value="#{msg.labelCancelar}"  
                                                         async="true" update=":CertificadoTabView, :CertificadoTabView:form_mod_Certificado" />

                                        <p:commandButton   id="btneditar" disabled="#{Beans_DefensaCivil_Certificado.objCertificadoMod.objboton.estado_boton}" 
                                                           actionListener="#{Beans_DefensaCivil_Certificado.doModCertificado()}" icon="ui-icon-arrowrefresh-1-s" async="true"  
                                                           value="#{msg.btnActualizar}"  update=":CertificadoTabView, :CertificadoTabView:form_mod_Certificado,  estModCertificado"  />  <!-- update=":CertificadoTabView, :CertificadoTabView:form_busc_CertificadoOfi,  estModCertificado"  -->


                                    </h:panelGrid>     
                                    <p:blockUI block="datGenCertificado" trigger="cancelar_editar">                                               
                                        Cancelando la Actualización ... <br />
                                        <p:graphicImage value="resources/imagenes/cargando.gif" />   
                                    </p:blockUI>

                                    <p:blockUI block="datGenCertificado" trigger="btneditar">                                               
                                        Actualizando... <br />
                                        <p:graphicImage value="resources/imagenes/cargando.gif" />   
                                    </p:blockUI>

                                </center>


                            </p:panel>
                        </h:form>

                    </p:tab>



                    <p:tab id="tab_informacion_virtual" title="Archivos Virtuales" titletip="Informacion_virtual"  titleStyleClass="tamaño_fuente_tab" disabled="#{Beans_DefensaCivil_Certificado.bandMod}">

                        <h:form  enctype="multipart/form-data" id="form_registro_informacion_virtual" class="border_titulo1" style="text-align: left" styleClass="tamaño_fuente">


                            <p:growl globalOnly="true"  id="growl_informacion_virtual" sticky="false"  showDetail="true"  />                                
                            <p:panel id="panel_listado_expedientes_derivados" header="#{msg.LabelArchivosDigitales}" styleClass="border" style="text-align: center">

                                <center>

                                    <h:panelGrid columns="6"  cellspacing="10" cellpadding="10" > 


                                        <h:outputText value="#{msg.labelExpediente}"  styleClass="tamaño_fuente" style="font-weight:bold"  rendered="false"/>
                                        <h:panelGroup>
                                            <p:inputText  id="expediente_id_legajo" size="10" disabled="true"  
                                                          value="#{Beans_DefensaCivil_Certificado.objRegistrarArchivoVirtual.objUpload.expediente_id}"  rendered="false" >

                                            </p:inputText>
                                            <h:message for="expediente_id_legajo" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>


                                        <h:outputText value="#{msg.LabelNombreArchvo}"  styleClass="tamaño_fuente" />
                                        <h:panelGroup>
                                            <p:inputText  id="nombre_archivo"  value="#{Beans_DefensaCivil_Certificado.objRegistrarArchivoVirtual.objUpload.nombre_archivo}"  >

                                            </p:inputText>
                                            <h:message for="nombre_archivo" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>

                                        <p:fileUpload  value="#{Beans_DefensaCivil_Certificado.objRegistrarArchivoVirtual.objUpload.file}" mode="simple"  /> 
                                    </h:panelGrid> 

                                </center>


                                <h:panelGrid columns="4"  >

                                    <p:commandButton value="Subir" actionListener="#{Beans_DefensaCivil_Certificado.doRegArchivoVirtual()}" ajax="false"  />  

                                </h:panelGrid>            
                                <!-- <p:inputText value="{beans_DefensaCivil_Download.codigo}" />
                                 <p:commandButton value="Visualizar" actionListener="{beans_DefensaCivil_Download.ver_download()}" ajax="false">
                                 </p:commandButton> --> 
                            </p:panel> 


                        </h:form>


                        <h:form  id="form_buscar_informacion_virtual" class="border_titulo1"  styleClass="tamaño_fuente">    
                            <p:growl globalOnly="true"  id="growl_informacion_virtual" sticky="false"  showDetail="true"  />    
                            <p:panel id="panel_informacion_virtual" header="#{msg.LabelCertificado}">

                                <br>
                                </br>


                                <center>

                                    <h:panelGrid columns="2"  >
                                        <h:outputText value="#{msg.LabelCodigoRecurrente}"  styleClass="tamaño_fuente" />
                                        <h:panelGroup>

                                            <p:inputText  id="codigo_recurrente" value="#{Beans_DefensaCivil_Certificado.objBuscarArchivoVirtual.codigo_contribuyente_consulta}"
                                                          >

                                            </p:inputText>
                                            <h:message for="codigo_recurrente" showDetail="false" showSummary="true"/>                                    
                                        </h:panelGroup>

                                    </h:panelGrid>               
                                    <!--BLOC-->
                                </center>

                                <br>
                                </br>


                                <h:panelGrid columns="4"  cellpadding="3"  cellspacing="3"  width="17%" >

                                    <p:commandButton id="saveBtnINI" icon="ui-icon-document" actionListener="#{Beans_DefensaCivil_Certificado.doiniciarBusquedaArchivoVirtual()}"  
                                                     value="#{msg.labelNuevo}"  async="true" update="panel_informacion_virtual" />

                                    <p:commandButton id="saveBtn" icon="ui-icon-folder-open" actionListener="#{Beans_DefensaCivil_Certificado.doBuscarArchivoVirtual()}"  
                                                     value="#{msg.btnConsultar}"  async="true" update="panel_informacion_virtual" />  


                                </h:panelGrid>



                                <p:blockUI block="panel_informacion_virtual" trigger="saveBtn">   Buscando... <br />
                                    <p:graphicImage value="resources/imagenes/cargando1.gif" />   
                                </p:blockUI>


                                <center>
                                    <h:panelGrid columns="2" >
                                        <h:outputText styleClass="etiqueta_resultBusq" value="#{msg.labelCantidad}"/>
                                        <h:outputText styleClass="etiqueta_resultBusq" value="#{Beans_DefensaCivil_Certificado.arrBusArchivoVirtual.size()}"/>               
                                    </h:panelGrid> 

                                    <h:panelGrid columns="1"   cellpadding="0"  cellspacing="0" 
                                                 border="0"  styleClass="width-table"> 

                                        <p:dataTable id="table_informacion_virtual" value="#{Beans_DefensaCivil_Certificado.arrBusArchivoVirtual}" 
                                                     var="Lista_Informacion_virtual"  styleClass="order-table" paginator="true"
                                                     rows="5"  rowsPerPageTemplate="5,10,15,20,25,30,50" 
                                                     paginatorPosition="both" paginatorAlwaysVisible="true"
                                                     rowStyleClass="tamaño_fuente" >


                                            <p:column style="width:90px;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelExpediente}" />
                                                </f:facet>
                                                <h:outputText  value="#{Lista_Informacion_virtual.nro_expediente}"/>
                                            </p:column> 

                                            <p:column style="width:90px;text-align: center" rendered="false">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.labelFecDoc}" />
                                                </f:facet>
                                                <h:outputText  value="#{Lista_Informacion_virtual.objDownload.id_legajo}"/>
                                            </p:column>   

                                            <p:column style="width:150px;text-align: center">
                                                <f:facet name="header">
                                                    <h:outputText value="#{msg.LabelArchivosDigitales}" />
                                                </f:facet>
                                                <h:outputText  value="#{Lista_Informacion_virtual.objDownload.nombre_archivo}" />
                                            </p:column>  

                                            <p:column style="width:150px;text-align: center">

                                                <!-- <p:commandButton value="Visualizar" actionListener="{beans_DefensaCivil_Download.ver_download()}" ajax="false"/> -->
                                                <p:commandButton value="Descargar" actionListener="#{Beans_DefensaCivil_Certificado.descarga_Archivo_Virtual}" ajax="false"/> 


                                            </p:column>

                                        </p:dataTable>    
                                    </h:panelGrid>  
                                </center>
                            </p:panel>  
                        </h:form>       
                    </p:tab>
                </p:tabView>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
